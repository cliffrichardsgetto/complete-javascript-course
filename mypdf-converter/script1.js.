import pdfjsLib from "pdfjs-dist/legacy/build/pdf";

async function extractText(filePath) {
    const loadingTask = pdfjsLib.getDocument(filePath);

    // Load the PDF document
    const pdfDocument = await loadingTask.promise;
    console.log(`PDF has ${pdfDocument.numPages} pages.`);

    let fullText = "";

    // Loop through all pages
    for (let pageNum = 1; pageNum <= pdfDocument.numPages; pageNum++) {
        const page = await pdfDocument.getPage(pageNum);
        const textContent = await page.getTextContent();

        // Extract and concatenate text
        const pageText = textContent.items.map((item) => item.str).join(" ");
        fullText += `Page ${pageNum}:\n${pageText}\n\n`;
    }

    console.log(fullText);
}

const filePath = "D:/dream11 pdfs/New folder/ENGvsIND-1cz5y8qwtbj2a--10-242941735051042392429.pdf";
extractText(filePath);
